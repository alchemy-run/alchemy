---
title: Images Signing Key
description: Learn how to create and manage Cloudflare Images Signing Keys for secure image access.
---

A [Cloudflare Images Signing Key](https://developers.cloudflare.com/images/transform-images/serve-images/serve-private-images/) is used to sign image URLs for secure access to private images or images that require authentication.

## Minimal Example

Create a basic signing key for private images.

```ts
import { ImagesSigningKey } from "alchemy/cloudflare";

const signingKey = await ImagesSigningKey("main-key", {
  name: "main-signing-key",
});
```

## Full Configuration

Create a signing key with additional options.

```ts
import { ImagesSigningKey } from "alchemy/cloudflare";

const signingKey = await ImagesSigningKey("secure-key", {
  name: "secure-signing-key",
  adopt: false, // Create new key instead of adopting existing
  delete: true, // Delete key when removed from Alchemy
});
```

## Signing Key Properties

After creation, the signing key resource contains:

- **`name`**: The unique name for the signing key
- **`value`**: The auto-generated signing key value (base64 encoded)
- **`createdAt`**: When the key was created
- **`modifiedAt`**: When the key was last modified

## Advanced Examples

### Production Signing Key

Create a signing key for production use with adoption pattern.

```ts
const productionKey = await ImagesSigningKey("production", {
  name: "prod-signing-key-v1",
  adopt: true, // Adopt existing key if it exists
});

console.log(`Signing key value: ${productionKey.value}`);
```

### Multiple Environment Keys

Create separate signing keys for different environments.

```ts
const devKey = await ImagesSigningKey("dev-key", {
  name: "development-signing-key",
});

const stagingKey = await ImagesSigningKey("staging-key", {
  name: "staging-signing-key",
});

const prodKey = await ImagesSigningKey("prod-key", {
  name: "production-signing-key",
  delete: false, // Preserve key even if removed from Alchemy
});
```

### Key Rotation

Update (regenerate) a signing key for security rotation.

```ts
// This will regenerate the key value while keeping the same name
const rotatedKey = await ImagesSigningKey("rotated-key", {
  name: "main-signing-key",
});

// The key name stays the same, but value is regenerated
console.log(`New key value: ${rotatedKey.value}`);
```

## Using Signing Keys

Signing keys are used to generate signed URLs for private images:

```ts
// Example of signing an image URL (implement based on your needs)
function signImageUrl(imageId: string, variantId: string, signingKey: string, expiration: number) {
  // Implementation depends on your signing algorithm
  // See Cloudflare documentation for URL signing details
  const baseUrl = `https://imagedelivery.net/<account-hash>/${imageId}/${variantId}`;
  const signature = generateSignature(baseUrl, signingKey, expiration);
  return `${baseUrl}?exp=${expiration}&sig=${signature}`;
}
```

## Key Management Best Practices

### Security Considerations

```ts
// Store the signing key securely and rotate regularly
const signingKey = await ImagesSigningKey("secure-key", {
  name: "api-signing-key-2024",
});

// Use the key value to sign URLs programmatically
// Never expose the key value in client-side code
process.env.IMAGES_SIGNING_KEY = signingKey.value;
```

### Adoption Pattern

Adopt existing keys to avoid disrupting active signed URLs.

```ts
const existingKey = await ImagesSigningKey("existing", {
  name: "legacy-signing-key",
  adopt: true, // Use existing key if found
});
```

### Preservation Pattern

Preserve keys when removing from Alchemy to maintain active signed URLs.

```ts
const preservedKey = await ImagesSigningKey("preserved", {
  name: "critical-signing-key",
  delete: false, // Don't delete when removed from Alchemy
});
```

## URL Signing Process

1. **Create the signing key** using this resource
2. **Generate signed URLs** using the key value and your application logic
3. **Distribute signed URLs** to authorized users/applications
4. **Cloudflare validates signatures** when images are requested

## Requirements

- Cloudflare Images must be enabled for your account
- Signing key names must be unique within your account
- Signing keys are auto-generated by Cloudflare (you cannot specify custom values)
- Active signed URLs will stop working if the signing key is deleted

## Integration with Images Variants

Signing keys work together with Images Variants for secure, transformed images:

```ts
// Create a variant for thumbnails
const thumbnailVariant = await ImagesVariant("thumbnail", {
  variantId: "secure-thumbnail",
  options: {
    fit: "cover",
    width: 200,
    height: 200,
  },
});

// Create a signing key for secure access
const signingKey = await ImagesSigningKey("thumbnail-key", {
  name: "thumbnail-signing-key",
});

// Use both together for signed, transformed images
// URL: https://imagedelivery.net/<hash>/<image-id>/secure-thumbnail?exp=<expiration>&sig=<signature>
```