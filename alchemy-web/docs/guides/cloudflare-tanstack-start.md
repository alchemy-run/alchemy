---
order: 2
title: TanstackStart
description: Guide to deploying TanStack Start applications to Cloudflare Workers using Alchemy. Learn configuration for Cloudflare and local development setup.
---

# TanStack Start

This guide walks through how to deploy a TanStack Start application to Cloudflare Workers with Alchemy.

## Create a new TanStack Start Project

Start by creating a TanStack Start project using Alchemy:

::: code-group

```sh [bun]
bunx alchemy create my-tanstack-app --template=tanstack-start
cd my-tanstack-app
```

```sh [npm]
npx alchemy create my-tanstack-app --template=tanstack-start
cd my-tanstack-app
```

```sh [pnpm]
pnpm dlx alchemy create my-tanstack-app --template=tanstack-start
cd my-tanstack-app
```

```sh [yarn]
yarn dlx alchemy create my-tanstack-app --template=tanstack-start
cd my-tanstack-app
```

:::

The CLI will automatically:

- Create a new TanStack Start project based on the React basic example
- Install all required dependencies including `alchemy`, `@cloudflare/workers-types`, and Tailwind CSS 4
- Configure TanStack Start for Cloudflare Workers deployment
- Generate the deployment configuration with proper Vite setup

> [!NOTE]
> See TanStack's [Quick Start](https://tanstack.com/start/latest/docs/framework/react/quick-start) guide for more details on TanStack Start applications.

## Explore the Generated Files

Let's explore the key files that were created for you:

### Deployment Configuration

The `alchemy.run.ts` file contains your infrastructure setup:

```typescript
/// <reference types="@types/node" />

import alchemy from "alchemy";
import { TanStackStart } from "alchemy/cloudflare";

const app = await alchemy("my-tanstack-app");

export const worker = await TanStackStart("website", {
  command: "bun run build",
});

console.log({
  url: worker.url,
});

await app.finalize();
```

### Vite Configuration

The `vite.config.ts` file is already configured for Cloudflare deployment:

```typescript
import tailwindcss from "@tailwindcss/vite";
import { tanstackStart } from "@tanstack/react-start/plugin/vite";
import { cloudflareWorkersDevEnvironmentShim } from "alchemy/cloudflare";
import { defineConfig, PluginOption } from "vite";
import tsConfigPaths from "vite-tsconfig-paths";

export default defineConfig({
  server: {
    port: 3000,
  },
  build: {
    target: "esnext",
    rollupOptions: {
      external: ["node:async_hooks", "cloudflare:workers"],
    },
  },
  plugins: [
    tailwindcss() as PluginOption,
    cloudflareWorkersDevEnvironmentShim(),
    tsConfigPaths({
      projects: ["./tsconfig.json"],
    }),
    tanstackStart({
      target: "cloudflare-module",
      tsr: {
        routeTreeFileHeader: [
          "/** biome-ignore-all lint/suspicious/noExplicitAny: code generated by @tanstack/react-start */",
        ],
        quoteStyle: "double",
      },
    }),
  ],
});
```

### Tailwind CSS Configuration

The CLI sets up Tailwind CSS 4 with a modern configuration in `src/styles/app.css`:

```css
@import "tailwindcss";

:root {
  --border: var(--color-zinc-200);
  --popover: var(--color-white);
  --popover-foreground: var(--color-zinc-950);
}

@theme {
  --font-sans:
    var(--font-sans, Inter), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}
```

### Type Definitions

The `types/env.d.ts` file provides type-safe access to Cloudflare bindings:

```typescript
// This file infers types for the cloudflare:workers environment from your Alchemy Worker.
// @see https://alchemy.run/docs/concepts/bindings.html#type-safe-bindings

import type { worker } from "../alchemy.run.ts";

export type CloudflareEnv = typeof worker.Env;

declare global {
  type Env = CloudflareEnv;
}

declare module "cloudflare:workers" {
  namespace Cloudflare {
    export interface Env extends CloudflareEnv {}
  }
}
```

### Key Features

The generated project includes:

- **Cloudflare Workers Environment Shim**: Provides polyfills for local development
- **TypeScript Path Resolution**: Configured to work with your tsconfig.json
- **Tailwind CSS 4**: Modern CSS framework with custom design tokens
- **TanStack Start**: Configured for Cloudflare module target

> [!CAUTION]
> The Cloudflare Workers environment shim is crucial for local development:
>
> ```typescript
> cloudflareWorkersDevEnvironmentShim(),
> ```
>
> Without this, server functions and middleware won't work locally.

## Deploy Your Application

Login to Cloudflare:

::: code-group

```sh [bun]
bun wrangler login
```

```sh [npm]
npx wrangler login
```

```sh [pnpm]
pnpm wrangler login
```

```sh [yarn]
yarn wrangler login
```

:::

Run the deploy script to deploy the application:

::: code-group

```sh [bun]
bun run deploy
```

```sh [npm]
npm run deploy
```

```sh [pnpm]
pnpm run deploy
```

```sh [yarn]
yarn run deploy
```

:::

It should output the URL of your deployed site:

```sh
{
  url: "https://your-site.your-sub-domain.workers.dev",
}
```

Click the URL to see your TanStack Start application live!

## Local Development

To run your application locally, use the TanStack Start development server:

::: code-group

```sh [bun]
bun run dev
```

```sh [npm]
npm run dev
```

```sh [pnpm]
pnpm run dev
```

```sh [yarn]
yarn run dev
```

:::

This will start a local development server with hot module reloading:

```sh
  VITE v5.0.10  ready in 237 ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

## Tear Down

When you're finished experimenting, you can tear down the application:

::: code-group

```sh [bun]
bun run destroy
```

```sh [npm]
npm run destroy
```

```sh [pnpm]
pnpm run destroy
```

```sh [yarn]
yarn run destroy
```

:::

This will remove all Cloudflare resources created by this deployment.
